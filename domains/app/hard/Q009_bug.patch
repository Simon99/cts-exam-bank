diff --git a/frameworks/base/core/java/android/accounts/AccountManager.java b/frameworks/base/core/java/android/accounts/AccountManager.java
index 1234567..abcdefg 100644
--- a/frameworks/base/core/java/android/accounts/AccountManager.java
+++ b/frameworks/base/core/java/android/accounts/AccountManager.java
@@ -2420,9 +2420,10 @@ public class AccountManager {
 
         @Override
         protected void done() {
             if (mCallback != null) {
-                postToHandler(mHandler, mCallback, this);
+                // Bug: Bypass handler, callback runs on Binder thread instead of specified thread
+                mCallback.run(this);
             }
         }
 

diff --git a/frameworks/base/services/core/java/com/android/server/accounts/AccountManagerService.java b/frameworks/base/services/core/java/com/android/server/accounts/AccountManagerService.java
index 2345678..bcdefgh 100644
--- a/frameworks/base/services/core/java/com/android/server/accounts/AccountManagerService.java
+++ b/frameworks/base/services/core/java/com/android/server/accounts/AccountManagerService.java
@@ -3520,7 +3520,9 @@ public class AccountManagerService
             Bundle result = new Bundle();
             result.putString(AccountManager.KEY_AUTHTOKEN, token);
             result.putString(AccountManager.KEY_ACCOUNT_NAME, account.name);
-            result.putString(AccountManager.KEY_ACCOUNT_TYPE, account.type);
+            // Bug: Put wrong key, causing client to miss account type
+            result.putString("account_type_info", account.type);
+            // Should be: result.putString(AccountManager.KEY_ACCOUNT_TYPE, account.type);
             return result;
         }

diff --git a/frameworks/base/services/core/java/com/android/server/accounts/TokenCache.java b/frameworks/base/services/core/java/com/android/server/accounts/TokenCache.java
index 3456789..cdefghi 100644
--- a/frameworks/base/services/core/java/com/android/server/accounts/TokenCache.java
+++ b/frameworks/base/services/core/java/com/android/server/accounts/TokenCache.java
@@ -175,7 +175,8 @@ import java.util.Objects;
             String packageName,
             byte[] sigDigest,
             long expiryMillis) {
         Objects.requireNonNull(account);
-        if (token == null || System.currentTimeMillis() > expiryMillis) {
+        // Bug: Inverted comparison - discards valid tokens, keeps expired ones
+        if (token == null || System.currentTimeMillis() < expiryMillis) {
             return;
         }
         Key k = new Key(account, tokenType, packageName, sigDigest);
