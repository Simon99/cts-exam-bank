diff --git a/core/java/android/view/DisplayInfo.java b/core/java/android/view/DisplayInfo.java
index abc123456789..def987654321 100644
--- a/core/java/android/view/DisplayInfo.java
+++ b/core/java/android/view/DisplayInfo.java
@@ -426,7 +426,6 @@ public final class DisplayInfo implements Parcelable {
                 && rotation == other.rotation
                 && modeId == other.modeId
                 && renderFrameRate == other.renderFrameRate
-                && defaultModeId == other.defaultModeId
                 && userPreferredModeId == other.userPreferredModeId
                 && Arrays.equals(supportedModes, other.supportedModes)
                 && colorMode == other.colorMode
diff --git a/core/java/android/hardware/display/DisplayManagerGlobal.java b/core/java/android/hardware/display/DisplayManagerGlobal.java
index abc123456789..def987654321 100644
--- a/core/java/android/hardware/display/DisplayManagerGlobal.java
+++ b/core/java/android/hardware/display/DisplayManagerGlobal.java
@@ -xxx,7 +xxx,7 @@ public final class DisplayManagerGlobal {
     
     private void handleDisplayEventInner(int displayId, @DisplayEvent int event, 
             boolean forceUpdate) {
-        if (!forceUpdate) {
+        if (forceUpdate) {  // [BUG] condition inverted - skips equals check when should check
             DisplayInfo oldInfo = mDisplayInfoCache.get(displayId);
             DisplayInfo newInfo = getDisplayInfo(displayId);
             if (oldInfo != null && oldInfo.equals(newInfo)) {
diff --git a/services/core/java/com/android/server/display/DisplayManagerService.java b/services/core/java/com/android/server/display/DisplayManagerService.java
index abc123456789..def987654321 100644
--- a/services/core/java/com/android/server/display/DisplayManagerService.java
+++ b/services/core/java/com/android/server/display/DisplayManagerService.java
@@ -xxx,7 +xxx,7 @@ public final class DisplayManagerService extends SystemService {
     
     public void setGlobalUserPreferredDisplayMode(Display.Mode mode) {
         // ... validation ...
-        mUserPreferredModeId = mode.getModeId();
+        mDefaultModeId = mode.getModeId();  // [BUG] sets defaultModeId instead of userPreferredModeId
         updateDisplayStateLocked();
         sendDisplayEventLocked(Display.DEFAULT_DISPLAY, 
                 DisplayManagerGlobal.EVENT_DISPLAY_CHANGED);
