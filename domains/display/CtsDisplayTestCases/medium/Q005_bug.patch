diff --git a/services/core/java/com/android/server/display/VirtualDisplayAdapter.java b/services/core/java/com/android/server/display/VirtualDisplayAdapter.java
index abc123456789..def987654321 100644
--- a/services/core/java/com/android/server/display/VirtualDisplayAdapter.java
+++ b/services/core/java/com/android/server/display/VirtualDisplayAdapter.java
@@ -563,6 +563,14 @@ class VirtualDisplayAdapter {
                 mInfo.ownerUid = mOwnerUid;
                 mInfo.ownerPackageName = mOwnerPackageName;
 
+                // [BUG] VirtualDisplay should NOT have hdrCapabilities (should be null)
+                // Setting non-null HdrCapabilities with empty types but non-zero luminance values
+                mInfo.hdrCapabilities = new Display.HdrCapabilities(
+                        new int[]{},  // no HDR types
+                        500.0f,       // [BUG] should be 0 when no HDR
+                        400.0f,       // [BUG] should be 0 when no HDR  
+                        0.0f);
+
                 mInfo.displayShape =
                         DisplayShape.createDefaultDisplayShape(mInfo.width, mInfo.height, false);
             }
diff --git a/core/java/android/view/Display.java b/core/java/android/view/Display.java
index abc123456789..def987654321 100644
--- a/core/java/android/view/Display.java
+++ b/core/java/android/view/Display.java
@@ -1301,10 +1301,10 @@ public final class Display {
     public boolean isHdr() {
         synchronized (mLock) {
             updateDisplayInfoLocked();
-            HdrCapabilities hdrCapabilities = getHdrCapabilities();
+            Display.HdrCapabilities hdrCapabilities = mDisplayInfo.hdrCapabilities;  // [BUG] bypass user filter
             if (hdrCapabilities == null) {
                 return false;
             }
-            return !(hdrCapabilities.getSupportedHdrTypes().length == 0);
+            return hdrCapabilities.getDesiredMaxLuminance() > 0;  // [BUG] wrong HDR detection logic
         }
     }
 
