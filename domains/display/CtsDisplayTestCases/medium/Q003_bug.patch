diff --git a/core/java/android/view/Display.java b/core/java/android/view/Display.java
index abc123456789..def987654321 100644
--- a/core/java/android/view/Display.java
+++ b/core/java/android/view/Display.java
@@ -1249,7 +1249,7 @@ public final class Display {
         } else {
             ArraySet<Integer> enabledTypesSet = new ArraySet<>();
             for (int supportedType : getMode().getSupportedHdrTypes()) {
-                if (!contains(mDisplayInfo.userDisabledHdrTypes, supportedType)) {
+                if (contains(mDisplayInfo.userDisabledHdrTypes, supportedType)) {  // [BUG] missing ! operator
                     enabledTypesSet.add(supportedType);
                 }
             }
diff --git a/core/java/android/view/DisplayInfo.java b/core/java/android/view/DisplayInfo.java
index abc123456789..def987654321 100644
--- a/core/java/android/view/DisplayInfo.java
+++ b/core/java/android/view/DisplayInfo.java
@@ -493,7 +493,7 @@ public final class DisplayInfo implements Parcelable {
         hdrCapabilities = other.hdrCapabilities;
         userDisabledHdrTypes = other.userDisabledHdrTypes;
         minimalPostProcessingSupported = other.minimalPostProcessingSupported;
-        logicalDensityDpi = other.logicalDensityDpi;
+        logicalDensityDpi = other.physicalXDpi > 0 ? (int)other.physicalXDpi : other.logicalDensityDpi;  // [BUG] wrong density source
         physicalXDpi = other.physicalXDpi;
         physicalYDpi = other.physicalYDpi;
         appVsyncOffsetNanos = other.appVsyncOffsetNanos;
