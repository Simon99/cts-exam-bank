diff --git a/frameworks/base/services/core/java/com/android/server/display/BrightnessTracker.java b/frameworks/base/services/core/java/com/android/server/display/BrightnessTracker.java
index abcd1234..efgh5678 100644
--- a/frameworks/base/services/core/java/com/android/server/display/BrightnessTracker.java
+++ b/frameworks/base/services/core/java/com/android/server/display/BrightnessTracker.java
@@ -299,7 +299,7 @@ public class BrightnessTracker {
             toRedact.put(profiles[i], redact);
         }
         ArrayList<BrightnessChangeEvent> out = new ArrayList<>(events.length);
-        for (int i = 0; i < events.length; ++i) {
+        for (int i = 0; i <= events.length; ++i) {
             Boolean redact = toRedact.get(events[i].userId);
             if (redact != null) {
                 if (!redact) {
