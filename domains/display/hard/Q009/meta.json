{
  "id": "DIS-H009",
  "title": "Display Mode Request Setting Getter Returns Inverted Value",
  "domain": "display",
  "difficulty": "hard",
  "cts_test": "android.display.cts.DisplayTest#testModeSwitchOnPrimaryDisplay",
  "cts_module": "CtsDisplayTestCases",
  "injection_point": "DIS-047",
  "injection_type": [
    "LOGIC",
    "RETURN_VALUE"
  ],
  "affected_files": [
    "frameworks/base/services/core/java/com/android/server/display/DisplayManagerService.java"
  ],
  "affected_methods": [
    "shouldAlwaysRespectAppRequestedModeInternal"
  ],
  "tags": [
    "getter-setter-mismatch",
    "return-value-inversion",
    "mode-switch",
    "display-config",
    "assertion-failure"
  ],
  "estimated_time_minutes": 30,
  "skills_tested": [
    "Getter/Setter 一致性驗證",
    "Return value 追蹤",
    "DisplayManager API 理解"
  ],
  "hints": [
    "檢查 getter 返回值是否與 setter 設定一致",
    "注意邏輯取反運算符",
    "思考為什麼 assertTrue 會失敗"
  ],
  "bug_description": "Getter returns inverted value, causing set/get mismatch",
  "root_cause": "Return value negated with ! operator",
  "fix_complexity": "Remove the ! operator",
  "created_at": "2025-01-22T00:00:00+08:00",
  "updated_at": "2026-02-18T18:30:00+08:00",
  "verified": true,
  "verification_date": "2026-02-21",
  "verification_result": "PASS",
  "verification_notes": "測試在 line 637 的 assertTrue 失敗，setter(true) 後 getter 返回 false",
  "verification_status": "complete",
  "cts_summary": {
    "passed": 0,
    "failed": 2,
    "total": 2
  }
}