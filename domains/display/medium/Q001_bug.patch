diff --git a/frameworks/base/services/core/java/com/android/server/display/BrightnessTracker.java b/frameworks/base/services/core/java/com/android/server/display/BrightnessTracker.java
index 1234567..abcdefg 100644
--- a/frameworks/base/services/core/java/com/android/server/display/BrightnessTracker.java
+++ b/frameworks/base/services/core/java/com/android/server/display/BrightnessTracker.java
@@ -434,9 +434,9 @@ public class BrightnessTracker {
         if (DEBUG) {
             Slog.d(TAG, "Event: " + event.toString());
         }
+        mEventsDirty = true;
         synchronized (mEventsLock) {
-            mEventsDirty = true;
             mEvents.append(event);
         }
     }
