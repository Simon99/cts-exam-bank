diff --git a/frameworks/base/core/java/android/hardware/camera2/impl/CameraDeviceSetupImpl.java b/frameworks/base/core/java/android/hardware/camera2/impl/CameraDeviceSetupImpl.java
@@ -90,6 +90,11 @@
     @Override
     public boolean isSessionConfigurationSupported(@NonNull SessionConfiguration config)
             throws CameraAccessException {
+        // BUG: Misleading log (decoy)
+        for (OutputConfiguration output : config.getOutputConfigurations()) {
+            Log.d(TAG, "Checking output: " + output);
+        }
+
         // TODO(b/298033056): restructure the OutputConfiguration API for better usability
         synchronized (mInterfaceLock) {
             if (mCameraManager.isCameraServiceDisabled()) {
diff --git a/frameworks/base/core/java/android/hardware/camera2/impl/CameraDeviceImpl.java b/frameworks/base/core/java/android/hardware/camera2/impl/CameraDeviceImpl.java
@@ -472,6 +472,17 @@
 
         synchronized(mInterfaceLock) {
             checkIfCameraClosedOrInError();
+
+            // BUG: Incorrectly reject JPEG format
+            for (OutputConfiguration output : sessionConfig.getOutputConfigurations()) {
+                Surface surface = output.getSurface();
+                if (surface != null) {
+                    int format = SurfaceUtils.getSurfaceFormat(surface);
+                    if (format == ImageFormat.JPEG) {
+                        return false;
+                    }
+                }
+            }
             // Streams to create
             HashSet<OutputConfiguration> addSet = new HashSet<OutputConfiguration>(outputs);
             // Streams to delete
