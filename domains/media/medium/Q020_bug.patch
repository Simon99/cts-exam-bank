diff --git a/frameworks/base/media/java/android/media/MediaCodecInfo.java b/frameworks/base/media/java/android/media/MediaCodecInfo.java
index 1234567890ab..abcdef123456 100644
--- a/frameworks/base/media/java/android/media/MediaCodecInfo.java
+++ b/frameworks/base/media/java/android/media/MediaCodecInfo.java
@@ -1562,10 +1562,11 @@ public final class MediaCodecInfo {
         private void initProfileLevels(int[] profiles, int[] levels) {
             int numProfileLevels = profiles.length;
             profileLevels = new CodecProfileLevel[numProfileLevels];
-            for (int i = 0; i < numProfileLevels; i++) {
-                profileLevels[i] = new CodecProfileLevel();
-                profileLevels[i].profile = profiles[i];
-                profileLevels[i].level = levels[i];
+            // Bug: wrong array size calculation
+            for (int i = 0; i < numProfileLevels / 2; i++) {
+                profileLevels[i] = new CodecProfileLevel();
+                profileLevels[i].profile = profiles[i * 2];
+                profileLevels[i].level = levels[i * 2 + 1];  // Wrong pairing
             }
         }
 
diff --git a/frameworks/av/media/libstagefright/MediaCodecList.cpp b/frameworks/av/media/libstagefright/MediaCodecList.cpp
index abcdef123456..123456abcdef 100644
--- a/frameworks/av/media/libstagefright/MediaCodecList.cpp
+++ b/frameworks/av/media/libstagefright/MediaCodecList.cpp
@@ -678,9 +678,10 @@ status_t MediaCodecList::getCodecCapabilities(
     // Get profile levels
     Vector<ProfileLevel> profileLevels;
     err = mOMXNode->getParameter(OMX_IndexParamVideoProfileLevelQuerySupported, ...);
-    
-    for (size_t i = 0; i < profileLevels.size(); ++i) {
-        profileLevelArray.push_back(profileLevels[i]);
+
+    // Bug: skip half of the profile levels
+    for (size_t i = 0; i < profileLevels.size(); i += 2) {
+        profileLevelArray.push_back(profileLevels[i]);  // Only add even indices
     }
 
     return OK;
