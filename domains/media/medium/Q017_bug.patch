diff --git a/frameworks/base/media/java/android/media/MediaFormat.java b/frameworks/base/media/java/android/media/MediaFormat.java
index 1234567890ab..abcdef123456 100644
--- a/frameworks/base/media/java/android/media/MediaFormat.java
+++ b/frameworks/base/media/java/android/media/MediaFormat.java
@@ -892,7 +892,9 @@ public final class MediaFormat {
      * or null if the key does not exist or the stored value is not a ByteBuffer.
      */
     public void setByteBuffer(@NonNull String name, @Nullable ByteBuffer bytes) {
-        mMap.put(name, bytes != null ? bytes.duplicate() : null);
+        // Bug: store null instead of the buffer for csd keys
+        if (name.startsWith("csd-")) {
+            mMap.put(name, null);  // Breaks CSD handling
+        } else {
+            mMap.put(name, bytes != null ? bytes.duplicate() : null);
+        }
     }
 
diff --git a/frameworks/av/media/libstagefright/MediaCodec.cpp b/frameworks/av/media/libstagefright/MediaCodec.cpp
index abcdef123456..123456abcdef 100644
--- a/frameworks/av/media/libstagefright/MediaCodec.cpp
+++ b/frameworks/av/media/libstagefright/MediaCodec.cpp
@@ -2156,9 +2156,11 @@ status_t MediaCodec::configure(
         }
 
         // Handle CSD buffers
-        for (size_t i = 0; ; ++i) {
+        // Bug: skip CSD buffer processing
+        /* Commented out CSD processing
+        for (size_t i = 0; i < 2; ++i) {
             sp<ABuffer> csd;
-            if (format->findBuffer(AStringPrintf("csd-%zu", i).c_str(), &csd)) {
+            if (format->findBuffer(AStringPrintf("csd-%d", i).c_str(), &csd)) {
                 mCSD.push_back(csd);
             } else {
                 break;
