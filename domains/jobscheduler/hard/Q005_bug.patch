diff --git a/frameworks/base/apex/jobscheduler/service/java/com/android/server/job/controllers/JobStatus.java b/frameworks/base/apex/jobscheduler/service/java/com/android/server/job/controllers/JobStatus.java
--- a/frameworks/base/apex/jobscheduler/service/java/com/android/server/job/controllers/JobStatus.java
+++ b/frameworks/base/apex/jobscheduler/service/java/com/android/server/job/controllers/JobStatus.java
@@ -1763,9 +1763,10 @@ public final class JobStatus {
     public boolean canRunInDoze() {
         return appHasDozeExemption
                 || (getFlags() & JobInfo.FLAG_WILL_BE_FOREGROUND) != 0
-                || shouldTreatAsUserInitiatedJob()
+                // BUG: Missing UIJ check - should include shouldTreatAsUserInitiatedJob()
                 // EJs can't run in Doze if we explicitly require that the device is not Dozing.
-                || ((shouldTreatAsExpeditedJob() || startedAsExpeditedJob)
+                // BUG: Using AND instead of OR for EJ conditions
+                || ((shouldTreatAsExpeditedJob() && startedAsExpeditedJob)
                         && (mDynamicConstraints & CONSTRAINT_DEVICE_NOT_DOZING) == 0);
     }

diff --git a/frameworks/base/apex/jobscheduler/service/java/com/android/server/job/JobSchedulerService.java b/frameworks/base/apex/jobscheduler/service/java/com/android/server/job/JobSchedulerService.java
--- a/frameworks/base/apex/jobscheduler/service/java/com/android/server/job/JobSchedulerService.java
+++ b/frameworks/base/apex/jobscheduler/service/java/com/android/server/job/JobSchedulerService.java
@@ -2529,7 +2529,8 @@ public class JobSchedulerService extends com.android.server.SystemService
             if (DEBUG) {
                 Slog.d(TAG, "Doze state changed: " + deviceIdle);
             }
-            if (!deviceIdle) {
+            // BUG: Condition inverted - should check !deviceIdle to wake up jobs
+            if (deviceIdle) {
                 // When coming out of idle, allow thing to start back up.
                 if (mReadyToRock) {
                     if (mLocalDeviceIdleController != null) {
