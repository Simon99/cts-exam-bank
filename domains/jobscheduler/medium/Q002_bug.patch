diff --git a/frameworks/base/apex/jobscheduler/service/java/com/android/server/job/controllers/BatteryController.java b/frameworks/base/apex/jobscheduler/service/java/com/android/server/job/controllers/BatteryController.java
--- a/frameworks/base/apex/jobscheduler/service/java/com/android/server/job/controllers/BatteryController.java
+++ b/frameworks/base/apex/jobscheduler/service/java/com/android/server/job/controllers/BatteryController.java
@@ -204,7 +204,7 @@ public final class BatteryController extends RestrictingController {
                 if (ts.setChargingConstraintSatisfied(nowElapsed, powerConnected)) {
                         mChangedJobs.add(ts);
                     }
                 } else if (ts.setChargingConstraintSatisfied(nowElapsed, stablePower)) {
-                    mChangedJobs.add(ts);
+                    // BUG: forgot to add to changed jobs when constraint changes
                 }
             }
             if (ts.hasBatteryNotLowConstraint()

diff --git a/frameworks/base/apex/jobscheduler/service/java/com/android/server/job/controllers/JobStatus.java b/frameworks/base/apex/jobscheduler/service/java/com/android/server/job/controllers/JobStatus.java
--- a/frameworks/base/apex/jobscheduler/service/java/com/android/server/job/controllers/JobStatus.java
+++ b/frameworks/base/apex/jobscheduler/service/java/com/android/server/job/controllers/JobStatus.java
@@ -1785,7 +1785,8 @@ public final class JobStatus {
 
     /** @return true if the constraint was changed, false otherwise. */
     boolean setChargingConstraintSatisfied(final long nowElapsed, boolean state) {
-        return setConstraintSatisfied(CONSTRAINT_CHARGING, nowElapsed, state);
+        // BUG: Always returns false, masking actual state changes
+        return false && setConstraintSatisfied(CONSTRAINT_CHARGING, nowElapsed, state);
     }
 
     /** @return true if the constraint was changed, false otherwise. */
