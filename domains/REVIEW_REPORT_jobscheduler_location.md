# CTS é¡Œåº«å¯©æŸ¥å ±å‘Š - JobScheduler + Location

**å¯©æŸ¥æ—¥æœŸ:** 2025-01-13
**å¯©æŸ¥ç¯„åœ:** jobscheduler/, location/ å…± 60 é¡Œ
**AOSP æºç¢¼:** ~/develop_claw/aosp-sandbox-1/

---

## ğŸ“Š ç¸½é«”çµ±è¨ˆ

| é ˜åŸŸ | é›£åº¦ | é¡Œæ•¸ | âœ… é€šé | âŒ å•é¡Œ | å•é¡Œç‡ |
|------|------|------|--------|--------|--------|
| JobScheduler | Easy | 10 | 8 | 2 | 20% |
| JobScheduler | Medium | 10 | 4 | 6 | 60% |
| JobScheduler | Hard | 10 | 5 | 5 | 50% |
| Location | Easy | 10 | 9 | 1 | 10% |
| Location | Medium | 10 | 0 | 10 | 100% |
| Location | Hard | 10 | 0 | 10 | 100% |
| **ç¸½è¨ˆ** | - | **60** | **26** | **34** | **57%** |

---

## âœ… å·²ä¿®æ­£çš„å•é¡Œ

### 1. æª”æ¡ˆè·¯å¾‘éŒ¯èª¤ (3 è™•)

| é¡Œç›® | éŒ¯èª¤è·¯å¾‘ | æ­£ç¢ºè·¯å¾‘ | ç‹€æ…‹ |
|------|----------|----------|------|
| JobScheduler/easy/Q007 | `frameworks/base/core/java/android/app/job/JobInfo.java` | `frameworks/base/apex/jobscheduler/framework/java/android/app/job/JobInfo.java` | âœ… å·²ä¿®æ­£ |
| Location/easy/Q005 | `frameworks/base/core/java/android/location/GnssStatus.java` | `frameworks/base/location/java/android/location/GnssStatus.java` | âœ… å·²ä¿®æ­£ |
| Location/medium/Q008 | `frameworks/base/core/java/android/location/GnssStatus.java` | `frameworks/base/location/java/android/location/GnssStatus.java` | âœ… å·²ä¿®æ­£ |

### 2. Patch èªæ³•éŒ¯èª¤ (1 è™•)

| é¡Œç›® | å•é¡Œæè¿° | ç‹€æ…‹ |
|------|----------|------|
| JobScheduler/easy/Q006 | åŸ patch ç¼ºå°‘é–‰åˆå¤§æ‹¬è™Ÿæœƒå°è‡´ç·¨è­¯éŒ¯èª¤ | âœ… å·²ä¿®æ­£ |

---

## âš ï¸ é›£åº¦å®šç¾©é•è¦ï¼ˆå¾…ä¿®æ­£ï¼‰

### é›£åº¦å®šç¾©å›é¡§
- **Easy:** å–®ä¸€æª”æ¡ˆï¼Œlog ç›´æ¥æŒ‡å‘å•é¡Œ
- **Medium:** 2 å€‹æª”æ¡ˆï¼Œlog åœ¨ A ä½† bug åœ¨ B  
- **Hard:** 3+ å€‹æª”æ¡ˆï¼Œå‘¼å«éˆæˆ–å¤šè™• bug

### JobScheduler Medium - æª”æ¡ˆæ•¸ä¸è¶³

| é¡Œç›® | ç›®å‰æª”æ¡ˆæ•¸ | æ‡‰æœ‰æª”æ¡ˆæ•¸ | å»ºè­° |
|------|-----------|-----------|------|
| Q001 | 1 | 2 | é™ç´šç‚º Easy æˆ–å¢åŠ è·¨æª”æ¡ˆè¿½è¹¤ |
| Q002 | 1 | 2 | é™ç´šç‚º Easy æˆ–å¢åŠ è·¨æª”æ¡ˆè¿½è¹¤ |
| Q003 | 1 | 2 | é™ç´šç‚º Easy æˆ–å¢åŠ è·¨æª”æ¡ˆè¿½è¹¤ |
| Q004 | 1 | 2 | é™ç´šç‚º Easy æˆ–å¢åŠ è·¨æª”æ¡ˆè¿½è¹¤ |
| Q006 | 1 | 2 | é™ç´šç‚º Easy æˆ–å¢åŠ è·¨æª”æ¡ˆè¿½è¹¤ |
| Q008 | 1 | 2 | é™ç´šç‚º Easy æˆ–å¢åŠ è·¨æª”æ¡ˆè¿½è¹¤ |

**é€šé:** Q005, Q007, Q009, Q010 (å‡ç‚º 2 æª”æ¡ˆ)

### JobScheduler Hard - æª”æ¡ˆæ•¸ä¸è¶³

| é¡Œç›® | ç›®å‰æª”æ¡ˆæ•¸ | æ‡‰æœ‰æª”æ¡ˆæ•¸ | å»ºè­° |
|------|-----------|-----------|------|
| Q005 | 1 | 3+ | é™ç´šç‚º Medium æˆ–æ“´å±• bug ç¯„åœ |
| Q006 | 1 | 3+ | é™ç´šç‚º Medium æˆ–æ“´å±• bug ç¯„åœ |
| Q007 | 1 | 3+ | é™ç´šç‚º Medium æˆ–æ“´å±• bug ç¯„åœ |
| Q008 | 1 | 3+ | é™ç´šç‚º Medium æˆ–æ“´å±• bug ç¯„åœ |
| Q009 | 2 | 3+ | å¢åŠ ä¸€å€‹ç›¸é—œæª”æ¡ˆ |

**é€šé:** Q001, Q002, Q003, Q004, Q010 (å‡ç‚º 3 æª”æ¡ˆ)

### Location Medium - å…¨éƒ¨æª”æ¡ˆæ•¸ä¸è¶³

| é¡Œç›® | ç›®å‰æª”æ¡ˆæ•¸ | æ‡‰æœ‰æª”æ¡ˆæ•¸ | 
|------|-----------|-----------|
| Q001-Q010 | 1 | 2 |

**å»ºè­°:** æ‰€æœ‰ Location Medium é¡Œç›®éœ€è¦é‡æ–°è¨­è¨ˆï¼ŒåŠ å…¥è·¨æª”æ¡ˆè¿½è¹¤

### Location Hard - å…¨éƒ¨æª”æ¡ˆæ•¸ä¸è¶³

| é¡Œç›® | ç›®å‰ä¸»æª”æ¡ˆ | related_files | å•é¡Œ |
|------|-----------|---------------|------|
| Q001-Q010 | 1 | æœ‰åˆ—å‡ºä½†æœªåŒ…å« bug | related_files åƒ…ä¾›åƒè€ƒï¼Œå¯¦éš› bug åªåœ¨ 1 å€‹æª”æ¡ˆ |

**å»ºè­°:** æ‰€æœ‰ Location Hard é¡Œç›®éœ€è¦å°‡ bug æ“´å±•åˆ°å¤šå€‹æª”æ¡ˆ

---

## ğŸ“‹ é€é¡Œè©³ç´°å¯©æŸ¥çµæœ

### JobScheduler Easy (10 é¡Œ)

| ID | æ¨™é¡Œ | è·¯å¾‘ âœ“ | é›£åº¦ âœ“ | Patch âœ“ | ç‹€æ…‹ |
|----|------|--------|--------|---------|------|
| Q001 | BatteryConstraintTest å……é›»ç´„æŸå¤±æ•— | âœ… | âœ… | âœ… | âœ… |
| Q002 | StorageConstraintTest å­˜å„²ç‹€æ…‹åˆ¤æ–·éŒ¯èª¤ | âœ… | âœ… | âœ… | âœ… |
| Q003 | TimingConstraintsTest å»¶é²ç´„æŸæœªæ»¿è¶³ | âœ… | âœ… | âœ… | âœ… |
| Q004 | BatteryConstraintTest é›»é‡ä¸ä½ç´„æŸå¤±æ•— | âœ… | âœ… | âœ… | âœ… |
| Q005 | TimingConstraintsTest å–æ¶ˆä½œæ¥­å¤±æ•— | âœ… | âœ… | âœ… | âœ… |
| Q006 | IdleConstraintTest é–’ç½®ç‹€æ…‹åˆ‡æ›å¤±æ•— | âœ… | âœ… | âœ… å·²ä¿®æ­£ | âœ… |
| Q007 | TimingConstraintsTest é€±æœŸæ€§ä½œæ¥­é‡æ–°æ’ç¨‹å¤±æ•— | âœ… å·²ä¿®æ­£ | âœ… | âœ… | âœ… |
| Q008 | TimingConstraintsTest æœŸé™éæœŸåˆ¤æ–·éŒ¯èª¤ | âœ… | âœ… | âœ… | âœ… |
| Q009 | StorageConstraintTest å­˜å„²ç‹€æ…‹è®ŠåŒ–æœªåœæ­¢ä½œæ¥­ | âœ… | âœ… | âœ… | âœ… |
| Q010 | JobSchedulingTest æœ€å°æ’ç¨‹é…é¡æª¢æŸ¥å¤±æ•— | âœ… | âœ… | âœ… | âœ… |

### JobScheduler Medium (10 é¡Œ)

| ID | æ¨™é¡Œ | è·¯å¾‘ âœ“ | é›£åº¦ âœ“ | Patch âœ“ | ç‹€æ…‹ |
|----|------|--------|--------|---------|------|
| Q001 | ConnectivityConstraintTest ç¶²çµ¡ç´„æŸä¸æ­£ç¢ºåŸ·è¡Œ | âœ… | âŒ 1æª”æ¡ˆ | âœ… | âš ï¸ |
| Q002 | BatteryConstraintTest å……é›»ç‹€æ…‹è®ŠåŒ–å¾Œä½œæ¥­æœªåœæ­¢ | âœ… | âŒ 1æª”æ¡ˆ | âœ… | âš ï¸ |
| Q003 | JobSchedulingTest ä½œæ¥­å„ªå…ˆç´šæ’åºéŒ¯èª¤ | âœ… | âŒ 1æª”æ¡ˆ | âœ… | âš ï¸ |
| Q004 | ConnectivityConstraintTest ç¶²çµ¡è½‰æ›æ™‚ä½œæ¥­è¢«éŒ¯èª¤åœæ­¢ | âœ… | âŒ 1æª”æ¡ˆ | âœ… | âš ï¸ |
| Q005 | ExpeditedJobTest åŠ æ€¥ä½œæ¥­ UID ç‹€æ…‹éŒ¯èª¤ | âœ… | âœ… 2æª”æ¡ˆ | âœ… | âœ… |
| Q006 | JobSchedulingTest å‘½åç©ºé–“ä½œæ¥­éš”é›¢å¤±æ•— | âœ… | âŒ 1æª”æ¡ˆ | âœ… | âš ï¸ |
| Q007 | IdleConstraintTest è‡ªå‹•æŠ•å½±é˜»æ­¢é–’ç½®å¤±æ•— | âœ… | âœ… 2æª”æ¡ˆ | âœ… | âœ… |
| Q008 | JobSchedulingTest å¾…è™•ç†ä½œæ¥­åŸå› éŒ¯èª¤ | âœ… | âŒ 1æª”æ¡ˆ | âœ… | âš ï¸ |
| Q009 | TimingConstraintsTest ä½å½ˆæ€§é€±æœŸä½œæ¥­éŒ¯èª¤åŸ·è¡Œ | âœ… | âœ… 2æª”æ¡ˆ | âœ… | âœ… |
| Q010 | JobSchedulingTest å–æ¶ˆåŸ·è¡Œä¸­ä½œæ¥­å¾Œä»æœ‰å¾…è™•ç†ä½œæ¥­ | âœ… | âœ… 2æª”æ¡ˆ | âœ… | âœ… |

### JobScheduler Hard (10 é¡Œ)

| ID | æ¨™é¡Œ | è·¯å¾‘ âœ“ | é›£åº¦ âœ“ | Patch âœ“ | ç‹€æ…‹ |
|----|------|--------|--------|---------|------|
| Q001 | Data Saver æ¨¡å¼ä¸‹åŠ æ€¥ä½œæ¥­ç¶²çµ¡é™åˆ¶å¤±æ•ˆ | âœ… | âœ… 3æª”æ¡ˆ | âœ… | âœ… |
| Q002 | ä½¿ç”¨è€…ç™¼èµ·çš„ä½œæ¥­ Doze æ¨¡å¼ä¸‹ç„¡æ³•åŸ·è¡Œ | âœ… | âœ… 3æª”æ¡ˆ | âœ… | âœ… |
| Q003 | é…é¡æ§åˆ¶èˆ‡å¤šé‡é˜²ç«ç‰†ç¹é | âœ… | âœ… 3æª”æ¡ˆ | âœ… | âœ… |
| Q004 | å½ˆæ€§ç´„æŸå”èª¿å¤±æ•— | âœ… | âœ… 3æª”æ¡ˆ | âœ… | âœ… |
| Q005 | Doze æ¨¡å¼ä¸‹åŠ æ€¥ä½œæ¥­æœªæ­£ç¢ºç¹éè¨­å‚™ç©ºé–’é™åˆ¶ | âœ… | âŒ 1æª”æ¡ˆ | âœ… | âš ï¸ |
| Q006 | ç†±é™æµé–¾å€¼åˆ¤æ–·éŒ¯èª¤å°è‡´ä½œæ¥­éæ—©åœæ­¢ | âœ… | âŒ 1æª”æ¡ˆ | âœ… | âš ï¸ |
| Q007 | RESTRICTED bucket ä½œæ¥­é…é¡è¨ˆç®—éŒ¯èª¤ | âœ… | âŒ 1æª”æ¡ˆ | âœ… | âš ï¸ |
| Q008 | Deadline ç´„æŸè©•ä¼°æ™‚æ©ŸéŒ¯èª¤å°è‡´ä½œæ¥­æå‰åŸ·è¡Œ | âœ… | âŒ 1æª”æ¡ˆ | âœ… | âš ï¸ |
| Q009 | èƒŒæ™¯é™åˆ¶æ‡‰ç”¨çš„ UIJ æœªæ­£ç¢ºåœæ­¢ | âœ… | âŒ 2æª”æ¡ˆ | âœ… | âš ï¸ |
| Q010 | å¤šä½œæ¥­ä¸¦ç™¼æ™‚å„ªå…ˆç´šåè½‰å•é¡Œ | âœ… | âœ… 2æª”æ¡ˆ | âœ… | âœ… |

### Location Easy (10 é¡Œ)

| ID | æ¨™é¡Œ | è·¯å¾‘ âœ“ | é›£åº¦ âœ“ | Patch âœ“ | ç‹€æ…‹ |
|----|------|--------|--------|---------|------|
| Q001 | Location.hasAltitude() Always Returns False | âœ… | âœ… | âœ… | âœ… |
| Q002 | Location.getBearing() Returns Wrong Value | âœ… | âœ… | âœ… | âœ… |
| Q003 | Criteria Copy Constructor NullPointerException Missing | âœ… | âœ… | âœ… | âœ… |
| Q004 | LocationRequest Builder Returns Wrong Default Quality | âœ… | âœ… | âœ… | âœ… |
| Q005 | GnssStatus.getSatelliteCount() Returns Wrong Value | âœ… å·²ä¿®æ­£ | âœ… | âœ… | âœ… |
| Q006 | Address.hasLatitude() Returns Wrong State | âœ… | âœ… | âœ… | âœ… |
| Q007 | Criteria.setAccuracy() Not Rejecting Invalid Values | âœ… | âœ… | âœ… | âœ… |
| Q008 | GnssMeasurement Parcel Roundtrip Fails | âœ… | âœ… | âœ… | âœ… |
| Q009 | Location.set() Does Not Copy Provider | âœ… | âœ… | âœ… | âœ… |
| Q010 | LocationRequest IllegalArgumentException Missing | âœ… | âœ… | âœ… | âœ… |

### Location Medium (10 é¡Œ) - å…¨éƒ¨é›£åº¦é•è¦

| ID | æ¨™é¡Œ | è·¯å¾‘ âœ“ | é›£åº¦ âœ“ | ç‹€æ…‹ |
|----|------|--------|--------|------|
| Q001-Q010 | å„ç¨®é¡Œç›® | âœ… | âŒ å…¨éƒ¨åªæœ‰ 1 æª”æ¡ˆ | âš ï¸ |

### Location Hard (10 é¡Œ) - å…¨éƒ¨é›£åº¦é•è¦

| ID | æ¨™é¡Œ | è·¯å¾‘ âœ“ | é›£åº¦ âœ“ | ç‹€æ…‹ |
|----|------|--------|--------|------|
| Q001-Q010 | å„ç¨®é¡Œç›® | âœ… | âŒ ä¸»æª”æ¡ˆåªæœ‰ 1 å€‹ | âš ï¸ |

---

## ğŸ”§ å»ºè­°çš„å¾ŒçºŒè¡Œå‹•

### é«˜å„ªå…ˆç´š
1. **Location Medium/Hard å…¨é¢é‡è¨­è¨ˆ** - éœ€è¦é‡æ–°è¨­è¨ˆé¡Œç›®ä»¥ç¬¦åˆé›£åº¦å®šç¾©

### ä¸­å„ªå…ˆç´š  
2. **JobScheduler Medium 6 é¡Œèª¿æ•´** - é™ç´šç‚º Easy æˆ–å¢åŠ è·¨æª”æ¡ˆè¨­è¨ˆ
3. **JobScheduler Hard 5 é¡Œèª¿æ•´** - é™ç´šç‚º Medium æˆ–æ“´å±• bug ç¯„åœ

### å·²å®Œæˆ
- âœ… ä¿®æ­£ 3 è™•è·¯å¾‘éŒ¯èª¤
- âœ… ä¿®æ­£ 1 è™• patch èªæ³•éŒ¯èª¤

---

## é™„éŒ„ï¼šé›£åº¦å®šç¾©åƒè€ƒ

### Easy ç‰¹å¾µ
- Bug åœ¨å–®ä¸€æª”æ¡ˆ
- Log ç›´æ¥æŒ‡å‘å•é¡Œä½ç½®
- ä¾‹ï¼š`java.lang.NullPointerException at ClassName.methodName(ClassName.java:123)`

### Medium ç‰¹å¾µ
- Log é¡¯ç¤ºéŒ¯èª¤åœ¨æª”æ¡ˆ A
- å¯¦éš› bug åœ¨æª”æ¡ˆ Bï¼ˆA å‘¼å« Bï¼‰
- éœ€è¦è¿½è¹¤å‘¼å«éˆ

### Hard ç‰¹å¾µ
- æ¶‰åŠ 3+ å€‹æª”æ¡ˆ
- å¯èƒ½æœ‰å¤šè™• bug
- éœ€è¦ç†è§£å®Œæ•´æ¶æ§‹
