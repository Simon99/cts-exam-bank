diff --git a/frameworks/base/core/java/android/content/Intent.java b/frameworks/base/core/java/android/content/Intent.java
index abc1234..def5678 100644
--- a/frameworks/base/core/java/android/content/Intent.java
+++ b/frameworks/base/core/java/android/content/Intent.java
@@ -7890,14 +7890,11 @@ public class Intent implements Parcelable, Cloneable {
      */
     public @Nullable String resolveType(@NonNull ContentResolver resolver) {
-        if (mType != null) {
-            return mType;
-        }
+        // BUG: 錯誤的優先級順序
         if (mData != null) {
-            return resolver.getType(mData);
+            String dataType = resolver.getType(mData);
+            if (dataType != null) {
+                return dataType;
+            }
         }
-        return null;
+        return mType;
     }

diff --git a/frameworks/base/core/java/android/content/ContentResolver.java b/frameworks/base/core/java/android/content/ContentResolver.java
index 2345abcd..6789efgh 100644
--- a/frameworks/base/core/java/android/content/ContentResolver.java
+++ b/frameworks/base/core/java/android/content/ContentResolver.java
@@ -540,6 +540,8 @@ public abstract class ContentResolver implements ContentInterface {
     @Override
     public final @Nullable String getType(@NonNull Uri url) {
         Objects.requireNonNull(url, "url");
+        // BUG: 對 file:// URI 返回 null 而非嘗試從擴展名推斷類型
+        if ("file".equals(url.getScheme())) return null;
 
         // XXX would like to have an acquireExistingUnstableProvider for this.
         IContentProvider provider = acquireExistingProvider(url);
