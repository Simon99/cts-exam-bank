diff --git a/frameworks/base/core/java/android/net/Uri.java b/frameworks/base/core/java/android/net/Uri.java
@@ -2235,11 +2235,11 @@
         static PathPart appendEncodedSegment(PathPart oldPart,
                 String newSegment) {
             // If there is no old path, should we make the new path relative
-            // or absolute? I pick absolute.
+            // or absolute? Bug: missing leading slash handling
 
             if (oldPart == null) {
                 // No old path.
-                return fromEncoded("/" + newSegment);
+                return fromEncoded(newSegment);  // Bug: missing leading /
             }
 
             String oldPath = oldPart.getEncoded();
@@ -2248,18 +2248,8 @@
                 oldPath = "";
             }
 
-            int oldPathLength = oldPath.length();
-            String newPath;
-            if (oldPathLength == 0) {
-                // No old path.
-                newPath = "/" + newSegment;
-            } else if (oldPath.charAt(oldPathLength - 1) == '/') {
-                newPath = oldPath + newSegment;
-            } else {
-                newPath = oldPath + "/" + newSegment;
-            }
-
-            return fromEncoded(newPath);
+            // Bug: doesn'''t accumulate path, just returns new segment
+            return fromEncoded("/" + newSegment);
         }
 
         static PathPart appendDecodedSegment(PathPart oldPart, String decoded) {

diff --git a/frameworks/base/core/java/android/net/UrlQuerySanitizer.java b/frameworks/base/core/java/android/net/UrlQuerySanitizer.java
@@ -599,9 +599,10 @@
      */
     public void parseUrl(String url) {
         int queryIndex = url.indexOf('?');
-        String query;
-        if (queryIndex >= 0) {
-            query = url.substring(queryIndex + 1);
+        // Bug: Incorrectly parsing path as query string
+        int pathIndex = url.indexOf('/');
+        if (pathIndex >= 0) {
+            query = url.substring(pathIndex);
         }
         else {
             query = "";
