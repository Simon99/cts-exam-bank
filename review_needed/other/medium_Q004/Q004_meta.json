{
  "id": "display-medium-004",
  "title": "BrightnessConfiguration 曲線參數對調",
  "difficulty": "medium",
  "domain": "display",
  "module": "CtsDisplayTestCases",
  "pattern": "A",
  "patternDesc": "縱向呼叫鏈 - setBrightnessConfiguration() 內部參數順序錯誤",
  "targetTests": [
    "android.display.cts.BrightnessTest#testSetAndGetBrightnessConfiguration",
    "android.display.cts.BrightnessTest#testSetGetSimpleCurve"
  ],
  "bugFile": "frameworks/base/services/core/java/com/android/server/display/BrightnessMappingStrategy.java",
  "bugMethod": "computeSpline",
  "bugType": "parameter_swap",
  "bootSafe": true,
  "expectedResult": {
    "outcome": "test_skipped",
    "failedTests": 0,
    "passedTests": 0,
    "skippedTests": 2,
    "errorMessage": "Tests skipped due to device not supporting BrightnessConfiguration"
  },
  "timeLimit": 25,
  "hints": [
    "設定 API 沒報錯，問題在存取過程",
    "注意陣列參數的順序",
    "追蹤 set/get 路徑中的數據處理"
  ],
  "verified": true,
  "verifiedDate": "2025-01-XX",
  "verifiedDevice": "Pixel 7 (27161FDH20031X)",
  "verificationNotes": "Bug 可以成功引入到 BrightnessMappingStrategy.computeSpline()，但 CtsDisplayTestCases 中的 BrightnessTest 因設備不支持自動亮度功能而被跳過。需要具備完整自動亮度配置的設備才能驗證此題。",
  "verificationStatus": "partial",
  "requiresSpecialConfig": true,
  "configRequirements": "需要設備支持自動亮度功能且有正確的 BrightnessConfiguration 配置"
}
