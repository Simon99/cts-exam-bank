diff --git a/services/core/java/com/android/server/display/VirtualDisplayAdapter.java b/services/core/java/com/android/server/display/VirtualDisplayAdapter.java
index def5678..abc1234 100644
--- a/services/core/java/com/android/server/display/VirtualDisplayAdapter.java
+++ b/services/core/java/com/android/server/display/VirtualDisplayAdapter.java
@@ -383,16 +383,22 @@ public class VirtualDisplayAdapter extends DisplayAdapter {
         @Override
         public Runnable requestDisplayStateLocked(int state, float brightnessState,
                 float sdrBrightnessState, DisplayOffloadSessionImpl displayOffloadSession) {
             if (state != mDisplayState) {
                 mDisplayState = state;
-                // BUG: The following synchronization was removed during a refactor.
-                // This causes Display.getState() to return stale values while
-                // callbacks are correctly dispatched.
-                // boolean isOn = (state != Display.STATE_OFF);
-                // if (mIsDisplayOn != isOn) {
-                //     mIsDisplayOn = isOn;
-                //     mInfo = null;
-                // }
+                
+                // FIX: Synchronize mIsDisplayOn with mDisplayState to ensure
+                // Display.getState() returns consistent values with callbacks.
+                // STATE_OFF and STATE_DOZE_SUSPEND are considered "off" states.
+                boolean isOn = (state != Display.STATE_OFF 
+                        && state != Display.STATE_DOZE_SUSPEND);
+                if (mIsDisplayOn != isOn) {
+                    mIsDisplayOn = isOn;
+                    // Invalidate cached DisplayDeviceInfo to trigger update
+                    mInfo = null;
+                    // Notify display system of the state change
+                    sendDisplayDeviceEventLocked(this, DISPLAY_DEVICE_EVENT_CHANGED);
+                }
+                
                 if (state == Display.STATE_OFF) {
                     mCallback.dispatchDisplayPaused();
                 } else {
