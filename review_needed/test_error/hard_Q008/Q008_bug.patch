diff --git a/services/core/java/com/android/server/display/VirtualDisplayAdapter.java b/services/core/java/com/android/server/display/VirtualDisplayAdapter.java
index abc1234..def5678 100644
--- a/services/core/java/com/android/server/display/VirtualDisplayAdapter.java
+++ b/services/core/java/com/android/server/display/VirtualDisplayAdapter.java
@@ -383,12 +383,16 @@ public class VirtualDisplayAdapter extends DisplayAdapter {
         @Override
         public Runnable requestDisplayStateLocked(int state, float brightnessState,
                 float sdrBrightnessState, DisplayOffloadSessionImpl displayOffloadSession) {
             if (state != mDisplayState) {
                 mDisplayState = state;
+                // BUG: The following synchronization was removed during a refactor.
+                // This causes Display.getState() to return stale values while
+                // callbacks are correctly dispatched.
+                // boolean isOn = (state != Display.STATE_OFF);
+                // if (mIsDisplayOn != isOn) {
+                //     mIsDisplayOn = isOn;
+                //     mInfo = null;
+                // }
                 if (state == Display.STATE_OFF) {
                     mCallback.dispatchDisplayPaused();
                 } else {
                     mCallback.dispatchDisplayResumed();
                 }
             }
             return null;
         }
diff --git a/services/core/java/com/android/server/display/LogicalDisplay.java b/services/core/java/com/android/server/display/LogicalDisplay.java
index 111222..333444 100644
--- a/services/core/java/com/android/server/display/LogicalDisplay.java
+++ b/services/core/java/com/android/server/display/LogicalDisplay.java
@@ -482,7 +482,9 @@ final class LogicalDisplay {
             mBaseDisplayInfo.logicalDensityDpi = deviceInfo.densityDpi;
             mBaseDisplayInfo.physicalXDpi = deviceInfo.xDpi;
             mBaseDisplayInfo.physicalYDpi = deviceInfo.yDpi;
             mBaseDisplayInfo.appVsyncOffsetNanos = deviceInfo.appVsyncOffsetNanos;
             mBaseDisplayInfo.presentationDeadlineNanos = deviceInfo.presentationDeadlineNanos;
+            // This copies state from DisplayDeviceInfo, which may be stale
+            // if VirtualDisplayAdapter didn't sync mIsDisplayOn with mDisplayState
             mBaseDisplayInfo.state = deviceInfo.state;
             mBaseDisplayInfo.committedState = deviceInfo.committedState;
             mBaseDisplayInfo.smallestNominalAppWidth = maskedWidth;
diff --git a/core/java/android/view/Display.java b/core/java/android/view/Display.java
index 555666..777888 100644
--- a/core/java/android/view/Display.java
+++ b/core/java/android/view/Display.java
@@ -1791,8 +1791,10 @@ public final class Display {
      * @see #STATE_DOZE_SUSPEND
      * @see #STATE_ON_SUSPEND
      */
     public int getState() {
+        // Returns DisplayInfo.state which comes from LogicalDisplay.mBaseDisplayInfo.state
+        // This value may be inconsistent with VirtualDisplay callbacks
         synchronized (mLock) {
             return mIsValid ? mDisplayInfo.state : STATE_UNKNOWN;
         }
     }
